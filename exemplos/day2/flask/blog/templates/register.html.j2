{% extends "base.html.j2" %}
{% block content %}
<div class="container">
<h1 style="color: aliceblue;">Novo Cadastro</h1>

<div class="jumbotron">
<p id="error-message" style="color: red; display: none;">As senhas não coincidem. Tente novamente.</p>
{% if error_message %}
        <div style="color: red; font-weight: bold; margin-bottom: 10px;">
            {{ error_message }}
        </div>
{% endif %}

<form action="/register" method="post" id="registerForm">
    <label for="username">Usuário:</label><br>
    <input type="text" name="username" required /><br>

    <label for="password">Senha:</label><br>
    <input type="password" name="password" id="password" required /><br>

    <label for="confirm_password">Confirmar Senha:</label><br>
    <input type="password" name="confirm_password" id="confirm_password" required /><br>

    <br>
    <input type="submit" value="Cadastrar">
</form>

</div>
</div>

<script>
    // Captura o formulário e os campos de senha
    const form = document.getElementById('registerForm');
    const password = document.getElementById('password');
    const confirmPassword = document.getElementById('confirm_password');
    const errorMessage = document.getElementById('error-message');

    // Função que valida as senhas
    form.addEventListener('submit', function(event) {
        if (password.value !== confirmPassword.value) {
            event.preventDefault(); // Impede o envio do formulário
            errorMessage.style.display = 'block'; // Mostra a mensagem de erro
        } else {
            errorMessage.style.display = 'none'; // Esconde a mensagem de erro
        }
    });
</script>

{% endblock %}
